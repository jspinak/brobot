<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>Init (Brobot 1.0.7 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.github.jspinak.brobot.services, class: Init">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.jspinak.brobot.services</a></div>
<h1 title="Class Init" class="title">Class Init</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.github.jspinak.brobot.services.Init</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Component
</span><span class="modifiers">public class </span><span class="element-name type-name-label">Init</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Initialization service for the Brobot model-based GUI automation framework.
 
 <p>Init provides essential startup operations that prepare the framework for automation 
 execution. It handles image preprocessing, state structure initialization, and environment 
 configuration, ensuring all components are properly configured before automation begins. 
 This service acts as the bridge between static configuration and runtime execution.</p>
 
 <p>Initialization phases:
 <ul>
   <li><b>Image Path Setup</b>: Configures SikuliX bundle paths for image loading</li>
   <li><b>Image Preprocessing</b>: Indexes images and generates color profiles</li>
   <li><b>State ID Population</b>: Converts state names to IDs throughout the system</li>
   <li><b>Transition Setup</b>: Prepares state transition tables for navigation</li>
 </ul>
 </p>
 
 <p>Image preprocessing features:
 <ul>
   <li>Assigns unique indices to all StateImages (starting from 1)</li>
   <li>Generates color profiles for pattern matching optimization</li>
   <li>Creates k-means profiles for dynamic images when configured</li>
   <li>Reports progress for monitoring large initialization tasks</li>
 </ul>
 </p>
 
 <p>State structure initialization:
 <ul>
   <li>Converts state name references to ID references for performance</li>
   <li>Populates the state transitions joint table for path finding</li>
   <li>Resolves "can hide" relationships between states</li>
   <li>Validates the state structure for consistency</li>
 </ul>
 </p>
 
 <p>Usage pattern:
 <ol>
   <li>Call <code>setBundlePathAndPreProcessImages()</code> after Spring initialization</li>
   <li>Call <code>initializeStateStructure()</code> to prepare state management</li>
   <li>Optionally call <code>add()</code> to include additional image paths</li>
 </ol>
 </p>
 
 <p>In the model-based approach, Init transforms the static state and image definitions 
 into runtime-ready data structures. The preprocessing step is crucial for performance, 
 as it moves expensive operations like color profile generation to initialization time 
 rather than during automation execution. The index assignment (starting from 1, not 0) 
 is designed to work with matrix operations where 0 typically represents "no class".</p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../datatypes/state/state/State.html" title="class in io.github.jspinak.brobot.datatypes.state.state"><code>State</code></a></li>
<li><a href="../datatypes/state/stateObject/stateImage/StateImage.html" title="class in io.github.jspinak.brobot.datatypes.state.stateObject.stateImage"><code>StateImage</code></a></li>
<li><a href="../manageStates/StateTransitions.html" title="class in io.github.jspinak.brobot.manageStates"><code>StateTransitions</code></a></li>
<li><a href="../actions/BrobotEnvironment.html" title="class in io.github.jspinak.brobot.actions"><code>BrobotEnvironment</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(io.github.jspinak.brobot.database.services.AllStatesInProjectService,io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles.SetAllProfiles,io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles.SetKMeansProfiles,io.github.jspinak.brobot.manageStates.StateManagementService,io.github.jspinak.brobot.services.StateTransitionsInProjectService,io.github.jspinak.brobot.services.StateTransitionsRepository)" class="member-name-link">Init</a><wbr>(<a href="../database/services/AllStatesInProjectService.html" title="class in io.github.jspinak.brobot.database.services">AllStatesInProjectService</a>&nbsp;allStatesInProjectService,
 <a href="../actions/methods/basicactions/find/color/profiles/SetAllProfiles.html" title="class in io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles">SetAllProfiles</a>&nbsp;setAllProfiles,
 <a href="../actions/methods/basicactions/find/color/profiles/SetKMeansProfiles.html" title="class in io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles">SetKMeansProfiles</a>&nbsp;setKMeansProfiles,
 <a href="../manageStates/StateManagementService.html" title="class in io.github.jspinak.brobot.manageStates">StateManagementService</a>&nbsp;stateManagementService,
 <a href="StateTransitionsInProjectService.html" title="class in io.github.jspinak.brobot.services">StateTransitionsInProjectService</a>&nbsp;stateTransitionsInProjectService,
 <a href="StateTransitionsRepository.html" title="class in io.github.jspinak.brobot.services">StateTransitionsRepository</a>&nbsp;stateTransitionsRepository)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(java.lang.String)" class="member-name-link">add</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initializeStateStructure()" class="member-name-link">initializeStateStructure</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#populateStateIds()" class="member-name-link">populateStateIds</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setBundlePathAndPreProcessImages(java.lang.String)" class="member-name-link">setBundlePathAndPreProcessImages</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called from the client app after all beans have been
 initialized.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(io.github.jspinak.brobot.database.services.AllStatesInProjectService,io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles.SetAllProfiles,io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles.SetKMeansProfiles,io.github.jspinak.brobot.manageStates.StateManagementService,io.github.jspinak.brobot.services.StateTransitionsInProjectService,io.github.jspinak.brobot.services.StateTransitionsRepository)">
<h3>Init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Init</span><wbr><span class="parameters">(<a href="../database/services/AllStatesInProjectService.html" title="class in io.github.jspinak.brobot.database.services">AllStatesInProjectService</a>&nbsp;allStatesInProjectService,
 <a href="../actions/methods/basicactions/find/color/profiles/SetAllProfiles.html" title="class in io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles">SetAllProfiles</a>&nbsp;setAllProfiles,
 <a href="../actions/methods/basicactions/find/color/profiles/SetKMeansProfiles.html" title="class in io.github.jspinak.brobot.actions.methods.basicactions.find.color.profiles">SetKMeansProfiles</a>&nbsp;setKMeansProfiles,
 <a href="../manageStates/StateManagementService.html" title="class in io.github.jspinak.brobot.manageStates">StateManagementService</a>&nbsp;stateManagementService,
 <a href="StateTransitionsInProjectService.html" title="class in io.github.jspinak.brobot.services">StateTransitionsInProjectService</a>&nbsp;stateTransitionsInProjectService,
 <a href="StateTransitionsRepository.html" title="class in io.github.jspinak.brobot.services">StateTransitionsRepository</a>&nbsp;stateTransitionsRepository)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setBundlePathAndPreProcessImages(java.lang.String)">
<h3>setBundlePathAndPreProcessImages</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setBundlePathAndPreProcessImages</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
<div class="block">This method is called from the client app after all beans have been
 initialized.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - Path to the directory containing the images.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(java.lang.String)">
<h3>add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
</section>
</li>
<li>
<section class="detail" id="populateStateIds()">
<h3>populateStateIds</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">populateStateIds</span>()</div>
</section>
</li>
<li>
<section class="detail" id="initializeStateStructure()">
<h3>initializeStateStructure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initializeStateStructure</span>()</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
