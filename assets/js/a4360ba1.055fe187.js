"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6587],{28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>c});var s=t(96540);const r={},i=s.createContext(r);function d(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}},65359:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"integrations/mcp-server/api-reference","title":"API Reference","description":"Complete reference documentation for all MCP Server API endpoints.","source":"@site/docs/06-integrations/mcp-server/api-reference.md","sourceDirName":"06-integrations/mcp-server","slug":"/integrations/mcp-server/api-reference","permalink":"/brobot/docs/integrations/mcp-server/api-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/jspinak/brobot/edit/main/docs/docs/06-integrations/mcp-server/api-reference.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"Configuration Guide","permalink":"/brobot/docs/integrations/mcp-server/configuration"},"next":{"title":"AI Integration Examples","permalink":"/brobot/docs/integrations/mcp-server/examples"}}');var r=t(74848),i=t(28453);const d={sidebar_position:4},c="API Reference",l={},h=[{value:"Base URL",id:"base-url",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Content Types",id:"content-types",level:2},{value:"Common Response Headers",id:"common-response-headers",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Health Check",id:"health-check",level:3},{value:"<code>GET /api/v1/health</code>",id:"get-apiv1health",level:4},{value:"Get State Structure",id:"get-state-structure",level:3},{value:"<code>GET /api/v1/state_structure</code>",id:"get-apiv1state_structure",level:4},{value:"Get Observation",id:"get-observation",level:3},{value:"<code>GET /api/v1/observation</code>",id:"get-apiv1observation",level:4},{value:"Execute Action",id:"execute-action",level:3},{value:"<code>POST /api/v1/execute</code>",id:"post-apiv1execute",level:4},{value:"Action Types",id:"action-types",level:2},{value:"Click Action",id:"click-action",level:3},{value:"Type Action",id:"type-action",level:3},{value:"Drag Action",id:"drag-action",level:3},{value:"Wait Action",id:"wait-action",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Error Response Format",id:"error-response-format",level:3},{value:"Common Error Codes",id:"common-error-codes",level:3},{value:"Error Examples",id:"error-examples",level:3},{value:"Rate Limiting",id:"rate-limiting",level:2},{value:"Pagination",id:"pagination",level:2},{value:"Webhooks",id:"webhooks",level:2},{value:"Client Libraries",id:"client-libraries",level:2},{value:"Python",id:"python",level:3},{value:"JavaScript (Coming Soon)",id:"javascript-coming-soon",level:3},{value:"cURL Examples",id:"curl-examples",level:3},{value:"API Versioning",id:"api-versioning",level:2},{value:"OpenAPI Specification",id:"openapi-specification",level:2},{value:"Support",id:"support",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,r.jsx)(n.p,{children:"Complete reference documentation for all MCP Server API endpoints."}),"\n",(0,r.jsx)(n.h2,{id:"base-url",children:"Base URL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:8000/api/v1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.p,{children:"Currently, the API does not require authentication. Future versions will support API key authentication."}),"\n",(0,r.jsx)(n.h2,{id:"content-types",children:"Content Types"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Request"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Response"}),": ",(0,r.jsx)(n.code,{children:"application/json"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Encoding"}),": ",(0,r.jsx)(n.code,{children:"UTF-8"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-response-headers",children:"Common Response Headers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"Content-Type: application/json\nX-Request-ID: <unique-request-id>\nX-Response-Time: <milliseconds>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,r.jsx)(n.h3,{id:"health-check",children:"Health Check"}),"\n",(0,r.jsx)(n.h4,{id:"get-apiv1health",children:(0,r.jsx)(n.code,{children:"GET /api/v1/health"})}),"\n",(0,r.jsx)(n.p,{children:"Check server health and Brobot CLI connectivity."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "ok",\n  "version": "0.1.0",\n  "brobot_connected": true,\n  "timestamp": "2024-01-20T10:30:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Status Codes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"200 OK"}),": Server is healthy"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"503 Service Unavailable"}),": Server is unhealthy"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8000/api/v1/health\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-state-structure",children:"Get State Structure"}),"\n",(0,r.jsx)(n.h4,{id:"get-apiv1state_structure",children:(0,r.jsx)(n.code,{children:"GET /api/v1/state_structure"})}),"\n",(0,r.jsx)(n.p,{children:"Retrieve the complete state structure of the target application."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "states": [\n    {\n      "name": "main_menu",\n      "description": "Application main menu",\n      "images": [\n        "main_menu_logo.png",\n        "menu_button.png"\n      ],\n      "transitions": [\n        {\n          "from_state": "main_menu",\n          "to_state": "login_screen",\n          "action": "click_login",\n          "probability": 0.95\n        }\n      ],\n      "is_initial": true,\n      "is_final": false\n    }\n  ],\n  "current_state": "main_menu",\n  "metadata": {\n    "application": "MyApp",\n    "version": "1.0.0",\n    "last_updated": "2024-01-20T10:30:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response Schema"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"List of all application states"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states[].name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Unique state identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states[].description"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Human-readable description"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states[].images"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Associated image patterns"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states[].transitions"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Possible state transitions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states[].is_initial"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"Whether this is a starting state"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"states[].is_final"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"Whether this is an ending state"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"current_state"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Currently active state name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Additional information"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Status Codes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"200 OK"}),": Success"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"500 Internal Server Error"}),": CLI error"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import requests\n\nresponse = requests.get("http://localhost:8000/api/v1/state_structure")\nstates = response.json()["states"]\nprint(f"Found {len(states)} states")\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"get-observation",children:"Get Observation"}),"\n",(0,r.jsx)(n.h4,{id:"get-apiv1observation",children:(0,r.jsx)(n.code,{children:"GET /api/v1/observation"})}),"\n",(0,r.jsx)(n.p,{children:"Get current observation including screenshot and active states."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Parameters"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"include_screenshot"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"true"}),(0,r.jsx)(n.td,{children:"Include base64 screenshot"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"format"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:'"png"'}),(0,r.jsx)(n.td,{children:"Screenshot format (png/jpg)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2024-01-20T10:30:00Z",\n  "active_states": [\n    {\n      "name": "dashboard",\n      "confidence": 0.95,\n      "matched_patterns": [\n        "dashboard_header.png",\n        "user_menu.png"\n      ]\n    },\n    {\n      "name": "notifications",\n      "confidence": 0.72,\n      "matched_patterns": [\n        "notification_bell.png"\n      ]\n    }\n  ],\n  "screenshot": "iVBORw0KGgoAAAANS...",\n  "screen_width": 1920,\n  "screen_height": 1080,\n  "metadata": {\n    "capture_duration": 0.125,\n    "analysis_duration": 0.087,\n    "total_patterns_checked": 42,\n    "patterns_matched": 3\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response Schema"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timestamp"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"ISO 8601 timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"active_states"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Currently active states"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"active_states[].name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"State name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"active_states[].confidence"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"Confidence score (0.0-1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"active_states[].matched_patterns"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Patterns that matched"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"screenshot"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Base64 encoded image"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"screen_width"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Screen width in pixels"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"screen_height"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"Screen height in pixels"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Performance metrics"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Status Codes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"200 OK"}),": Success"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"500 Internal Server Error"}),": Screenshot capture failed"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Get observation without screenshot\nresponse = requests.get(\n    "http://localhost:8000/api/v1/observation",\n    params={"include_screenshot": False}\n)\n\n# Save screenshot to file\nimport base64\nobs = response.json()\nif obs.get("screenshot"):\n    img_data = base64.b64decode(obs["screenshot"])\n    with open("screen.png", "wb") as f:\n        f.write(img_data)\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"execute-action",children:"Execute Action"}),"\n",(0,r.jsx)(n.h4,{id:"post-apiv1execute",children:(0,r.jsx)(n.code,{children:"POST /api/v1/execute"})}),"\n",(0,r.jsx)(n.p,{children:"Execute an automation action on the target application."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action_type": "click",\n  "parameters": {\n    "image_pattern": "submit_button.png",\n    "confidence": 0.9,\n    "timeout": 5.0\n  },\n  "target_state": "form_submitted",\n  "timeout": 10.0\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request Schema"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"action_type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Type of action to execute"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parameters"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Action-specific parameters"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"target_state"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Expected state after action"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timeout"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Action timeout in seconds (default: 10.0)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "action_type": "click",\n  "duration": 0.523,\n  "result_state": "form_submitted",\n  "error": null,\n  "metadata": {\n    "click_location": {\n      "x": 640,\n      "y": 480\n    },\n    "pattern_found": true,\n    "confidence": 0.92,\n    "search_time": 0.234\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response Schema"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"success"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"Whether action succeeded"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"action_type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Type of action executed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"duration"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"Execution time in seconds"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"result_state"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"State after execution"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"error"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Error message if failed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"Action-specific details"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Status Codes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"200 OK"}),": Action completed (check ",(0,r.jsx)(n.code,{children:"success"})," field)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"400 Bad Request"}),": Invalid parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"422 Unprocessable Entity"}),": Validation error"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"500 Internal Server Error"}),": Execution error"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"action-types",children:"Action Types"}),"\n",(0,r.jsx)(n.h3,{id:"click-action",children:"Click Action"}),"\n",(0,r.jsx)(n.p,{children:"Click on an image pattern or specific location."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action_type": "click",\n  "parameters": {\n    "image_pattern": "button.png",  // OR use location\n    "location": {"x": 500, "y": 300},\n    "confidence": 0.9,\n    "click_type": "single",  // single|double|right\n    "offset": {"x": 0, "y": 0}\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"image_pattern"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No*"}),(0,r.jsx)(n.td,{children:"Image file to find"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"location"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No*"}),(0,r.jsx)(n.td,{children:"Click coordinates"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"confidence"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Min similarity (0.0-1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"click_type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Click type (default: single)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"offset"})}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Offset from pattern center"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["*Either ",(0,r.jsx)(n.code,{children:"image_pattern"})," or ",(0,r.jsx)(n.code,{children:"location"})," is required"]}),"\n",(0,r.jsx)(n.h3,{id:"type-action",children:"Type Action"}),"\n",(0,r.jsx)(n.p,{children:"Type text at the current cursor location."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action_type": "type",\n  "parameters": {\n    "text": "Hello, World!",\n    "typing_speed": 300,  // chars per minute\n    "clear_first": false,\n    "press_enter": true\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"text"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Text to type"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"typing_speed"})}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Typing speed (default: 300)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"clear_first"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Clear field first"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"press_enter"})}),(0,r.jsx)(n.td,{children:"boolean"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Press Enter after typing"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"drag-action",children:"Drag Action"}),"\n",(0,r.jsx)(n.p,{children:"Drag from one location to another."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action_type": "drag",\n  "parameters": {\n    "start_pattern": "drag_handle.png",  // OR start_x, start_y\n    "start_x": 100,\n    "start_y": 100,\n    "end_pattern": "drop_zone.png",  // OR end_x, end_y\n    "end_x": 500,\n    "end_y": 500,\n    "duration": 1.0,\n    "button": "left"  // left|right|middle\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"start_pattern"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No*"}),(0,r.jsx)(n.td,{children:"Start position pattern"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"start_x"}),", ",(0,r.jsx)(n.code,{children:"start_y"})]}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No*"}),(0,r.jsx)(n.td,{children:"Start coordinates"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"end_pattern"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No*"}),(0,r.jsx)(n.td,{children:"End position pattern"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"end_x"}),", ",(0,r.jsx)(n.code,{children:"end_y"})]}),(0,r.jsx)(n.td,{children:"integer"}),(0,r.jsx)(n.td,{children:"No*"}),(0,r.jsx)(n.td,{children:"End coordinates"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"duration"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Drag duration (default: 1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"button"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Mouse button (default: left)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"*Either pattern or coordinates required for start/end"}),"\n",(0,r.jsx)(n.h3,{id:"wait-action",children:"Wait Action"}),"\n",(0,r.jsx)(n.p,{children:"Wait for a specific state or condition."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "action_type": "wait",\n  "parameters": {\n    "state_name": "dashboard",\n    "timeout": 30.0,\n    "check_interval": 1.0,\n    "stability_time": 2.0\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"state_name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"State to wait for"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timeout"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Max wait time (default: 30.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"check_interval"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Check frequency (default: 1.0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"stability_time"})}),(0,r.jsx)(n.td,{children:"float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Required stable time"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.h3,{id:"error-response-format",children:"Error Response Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Detailed error message",\n  "type": "error_type",\n  "loc": ["field", "name"],\n  "ctx": {\n    "additional": "context"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"common-error-codes",children:"Common Error Codes"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status Code"}),(0,r.jsx)(n.th,{children:"Error Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"400"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bad_request"})}),(0,r.jsx)(n.td,{children:"Invalid request format"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"422"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"validation_error"})}),(0,r.jsx)(n.td,{children:"Parameter validation failed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"404"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"not_found"})}),(0,r.jsx)(n.td,{children:"Resource not found"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"408"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timeout"})}),(0,r.jsx)(n.td,{children:"Request timeout"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"500"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"internal_error"})}),(0,r.jsx)(n.td,{children:"Server error"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"503"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"service_unavailable"})}),(0,r.jsx)(n.td,{children:"Brobot CLI unavailable"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"error-examples",children:"Error Examples"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Validation Error (422)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": [\n    {\n      "loc": ["body", "action_type"],\n      "msg": "field required",\n      "type": "value_error.missing"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"CLI Error (500)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "detail": "Brobot CLI error: Pattern not found",\n  "type": "cli_error",\n  "ctx": {\n    "pattern": "nonexistent.png",\n    "search_time": 5.0\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,r.jsx)(n.p,{children:"Future versions will implement rate limiting:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 99\nX-RateLimit-Reset: 1642521600\n"})}),"\n",(0,r.jsx)(n.h2,{id:"pagination",children:"Pagination"}),"\n",(0,r.jsx)(n.p,{children:"Future versions will support pagination for large responses:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": [...],\n  "pagination": {\n    "page": 1,\n    "per_page": 20,\n    "total": 100,\n    "pages": 5\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"webhooks",children:"Webhooks"}),"\n",(0,r.jsx)(n.p,{children:"Future versions will support webhooks for state changes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "event": "state_changed",\n  "timestamp": "2024-01-20T10:30:00Z",\n  "data": {\n    "from_state": "login",\n    "to_state": "dashboard",\n    "trigger": "user_action"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"client-libraries",children:"Client Libraries"}),"\n",(0,r.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from brobot_client import BrobotClient\n\nclient = BrobotClient("http://localhost:8000")\nresult = client.click("button.png")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"javascript-coming-soon",children:"JavaScript (Coming Soon)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const client = new BrobotClient("http://localhost:8000");\nawait client.click("button.png");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"curl-examples",children:"cURL Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Get observation\ncurl http://localhost:8000/api/v1/observation\n\n# Execute click\ncurl -X POST http://localhost:8000/api/v1/execute \\\n  -H "Content-Type: application/json" \\\n  -d \'{"action_type":"click","parameters":{"image_pattern":"button.png"}}\'\n\n# Pretty print with jq\ncurl http://localhost:8000/api/v1/state_structure | jq .\n'})}),"\n",(0,r.jsx)(n.h2,{id:"api-versioning",children:"API Versioning"}),"\n",(0,r.jsxs)(n.p,{children:["The API uses URL versioning. Current version: ",(0,r.jsx)(n.code,{children:"v1"})]}),"\n",(0,r.jsx)(n.p,{children:"Future versions will maintain backwards compatibility or provide migration guides."}),"\n",(0,r.jsx)(n.h2,{id:"openapi-specification",children:"OpenAPI Specification"}),"\n",(0,r.jsx)(n.p,{children:"Access the OpenAPI (Swagger) specification:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Swagger UI"}),": ",(0,r.jsx)(n.a,{href:"http://localhost:8000/docs",children:"http://localhost:8000/docs"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ReDoc"}),": ",(0,r.jsx)(n.a,{href:"http://localhost:8000/redoc",children:"http://localhost:8000/redoc"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OpenAPI JSON"}),": ",(0,r.jsx)(n.a,{href:"http://localhost:8000/openapi.json",children:"http://localhost:8000/openapi.json"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub Issues"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/jspinak/brobot-mcp-server/issues",children:"Report API issues"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Discord"}),": ",(0,r.jsx)(n.a,{href:"https://discord.gg/brobot",children:"Get help on Discord"})]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);