"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3841],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var i=r(96540);const o={},l=i.createContext(o);function s(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(l.Provider,{value:n},e.children)}},41621:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"logging/performance","title":"Logging Performance Guide","description":"Performance Impact","source":"@site/docs/07-logging/performance.md","sourceDirName":"07-logging","slug":"/logging/performance","permalink":"/brobot/docs/logging/performance","draft":false,"unlisted":false,"editUrl":"https://github.com/jspinak/brobot/edit/main/docs/docs/07-logging/performance.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docSidebar","previous":{"title":"Output Formats","permalink":"/brobot/docs/logging/output-formats"},"next":{"title":"Logging Usage Guide","permalink":"/brobot/docs/logging/usage"}}');var o=r(74848),l=r(28453);const s={},t="Logging Performance Guide",c={},g=[{value:"Performance Impact",id:"performance-impact",level:2},{value:"Optimization Strategies",id:"optimization-strategies",level:2},{value:"1. Early Filtering",id:"1-early-filtering",level:3},{value:"2. Async Logging",id:"2-async-logging",level:3},{value:"3. Selective Enrichment",id:"3-selective-enrichment",level:3},{value:"4. Category-Specific Levels",id:"4-category-specific-levels",level:3},{value:"Memory Management",id:"memory-management",level:2},{value:"Buffer Sizes",id:"buffer-sizes",level:3},{value:"Memory Usage Estimates",id:"memory-usage-estimates",level:3},{value:"Benchmarks",id:"benchmarks",level:2},{value:"Action Logging Performance",id:"action-logging-performance",level:3},{value:"With Enrichment",id:"with-enrichment",level:3},{value:"Best Practices for Performance",id:"best-practices-for-performance",level:2},{value:"1. Production Configuration",id:"1-production-configuration",level:3},{value:"2. Development Configuration",id:"2-development-configuration",level:3},{value:"3. High-Performance Configuration",id:"3-high-performance-configuration",level:3},{value:"Monitoring Logging Performance",id:"monitoring-logging-performance",level:2},{value:"Enable Performance Metrics",id:"enable-performance-metrics",level:3},{value:"Sample Performance Log",id:"sample-performance-log",level:3},{value:"Troubleshooting Performance Issues",id:"troubleshooting-performance-issues",level:2},{value:"Symptoms: High CPU Usage",id:"symptoms-high-cpu-usage",level:3},{value:"Symptoms: Memory Growth",id:"symptoms-memory-growth",level:3},{value:"Symptoms: Slow Action Execution",id:"symptoms-slow-action-execution",level:3},{value:"Symptoms: Log File Growth",id:"symptoms-log-file-growth",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"logging-performance-guide",children:"Logging Performance Guide"})}),"\n",(0,o.jsx)(n.h2,{id:"performance-impact",children:"Performance Impact"}),"\n",(0,o.jsx)(n.p,{children:"The Brobot logging system is designed for minimal performance impact:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Disabled logging"}),": ~0 overhead (early filtering)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"INFO level logging"}),": ~1-2ms per action"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"DEBUG level with enrichment"}),": ~3-5ms per action"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"With screenshots"}),": ~50-100ms per failed action"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"optimization-strategies",children:"Optimization Strategies"}),"\n",(0,o.jsx)(n.h3,{id:"1-early-filtering",children:"1. Early Filtering"}),"\n",(0,o.jsx)(n.p,{children:"The system checks log levels before building log entries:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'// Level check happens first - no object creation if disabled\r\nif (logger.shouldLog(LogCategory.ACTIONS, LogLevel.DEBUG)) {\r\n    // Only build the log entry if it will be logged\r\n    logger.debug(LogCategory.ACTIONS, "Expensive operation: {}",\r\n        generateExpensiveReport());\r\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"2-async-logging",children:"2. Async Logging"}),"\n",(0,o.jsx)(n.p,{children:"Enable async logging for production:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Async logging improves throughput\r\nbrobot.logging.performance.async=true\r\nbrobot.logging.performance.buffer-size=16384\n"})}),"\n",(0,o.jsx)(n.p,{children:"Benefits:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Non-blocking log writes"}),"\n",(0,o.jsx)(n.li,{children:"Better application throughput"}),"\n",(0,o.jsx)(n.li,{children:"Reduced I/O contention"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Trade-offs:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Potential log loss on crash"}),"\n",(0,o.jsx)(n.li,{children:"Slightly delayed log visibility"}),"\n",(0,o.jsx)(n.li,{children:"Additional memory usage"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"3-selective-enrichment",children:"3. Selective Enrichment"}),"\n",(0,o.jsx)(n.p,{children:"Only enable enrichment you need:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Minimal enrichment for production\r\nbrobot.logging.enrichment.include-screenshots=false\r\nbrobot.logging.enrichment.include-timing-breakdown=false\r\nbrobot.logging.enrichment.include-memory-usage=false\r\nbrobot.logging.enrichment.include-similarity-scores=true  # Low overhead\n"})}),"\n",(0,o.jsx)(n.h3,{id:"4-category-specific-levels",children:"4. Category-Specific Levels"}),"\n",(0,o.jsx)(n.p,{children:"Reduce noise by setting appropriate levels per package:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Production configuration\r\nlogging.level.io.github.jspinak.brobot.action=INFO       # Only success/failure\r\nlogging.level.io.github.jspinak.brobot.matching=WARN     # Only problems\r\nlogging.level.io.github.jspinak.brobot.performance=INFO  # Key metrics only\r\nlogging.level.io.github.jspinak.brobot.validation=ERROR  # Only errors\n"})}),"\n",(0,o.jsx)(n.h2,{id:"memory-management",children:"Memory Management"}),"\n",(0,o.jsx)(n.h3,{id:"buffer-sizes",children:"Buffer Sizes"}),"\n",(0,o.jsx)(n.p,{children:"Configure buffer sizes based on load:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Light load (< 100 actions/min)\r\nbrobot.logging.performance.buffer-size=8192\r\n\r\n# Medium load (100-1000 actions/min)\r\nbrobot.logging.performance.buffer-size=32768\r\n\r\n# Heavy load (> 1000 actions/min)\r\nbrobot.logging.performance.buffer-size=65536\n"})}),"\n",(0,o.jsx)(n.h3,{id:"memory-usage-estimates",children:"Memory Usage Estimates"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Configuration"}),(0,o.jsx)(n.th,{children:"Memory per Thread"}),(0,o.jsx)(n.th,{children:"Buffer Memory"}),(0,o.jsx)(n.th,{children:"Total (10 threads)"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Minimal"}),(0,o.jsx)(n.td,{children:"~1KB"}),(0,o.jsx)(n.td,{children:"8KB"}),(0,o.jsx)(n.td,{children:"~18KB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Standard"}),(0,o.jsx)(n.td,{children:"~2KB"}),(0,o.jsx)(n.td,{children:"32KB"}),(0,o.jsx)(n.td,{children:"~52KB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Full Enrichment"}),(0,o.jsx)(n.td,{children:"~5KB"}),(0,o.jsx)(n.td,{children:"64KB"}),(0,o.jsx)(n.td,{children:"~114KB"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"benchmarks",children:"Benchmarks"}),"\n",(0,o.jsx)(n.h3,{id:"action-logging-performance",children:"Action Logging Performance"}),"\n",(0,o.jsx)(n.p,{children:"Test setup: 1000 find operations, averaged over 10 runs"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Log Level"}),(0,o.jsx)(n.th,{children:"Sync (ms/action)"}),(0,o.jsx)(n.th,{children:"Async (ms/action)"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"OFF"}),(0,o.jsx)(n.td,{children:"0.0"}),(0,o.jsx)(n.td,{children:"0.0"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ERROR"}),(0,o.jsx)(n.td,{children:"0.1"}),(0,o.jsx)(n.td,{children:"0.05"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"INFO"}),(0,o.jsx)(n.td,{children:"1.2"}),(0,o.jsx)(n.td,{children:"0.3"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"DEBUG"}),(0,o.jsx)(n.td,{children:"2.5"}),(0,o.jsx)(n.td,{children:"0.8"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"TRACE"}),(0,o.jsx)(n.td,{children:"4.1"}),(0,o.jsx)(n.td,{children:"1.5"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"with-enrichment",children:"With Enrichment"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Feature"}),(0,o.jsx)(n.th,{children:"Additional Overhead"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Similarity scores"}),(0,o.jsx)(n.td,{children:"+0.1ms"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Timing breakdown"}),(0,o.jsx)(n.td,{children:"+0.5ms"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Memory usage"}),(0,o.jsx)(n.td,{children:"+1.0ms"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Screenshots (on failure)"}),(0,o.jsx)(n.td,{children:"+50-100ms"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"best-practices-for-performance",children:"Best Practices for Performance"}),"\n",(0,o.jsx)(n.h3,{id:"1-production-configuration",children:"1. Production Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Optimized for production\r\nlogging.level.root=WARN\r\nlogging.level.io.github.jspinak.brobot.action=INFO\r\nlogging.level.io.github.jspinak.brobot.performance=INFO\r\nbrobot.logging.output.format=JSON\r\nbrobot.logging.performance.async=true\r\nbrobot.logging.performance.buffer-size=32768\r\nbrobot.logging.enrichment.include-screenshots=false\r\nbrobot.logging.enrichment.include-timing-breakdown=false\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-development-configuration",children:"2. Development Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Full visibility for development\r\nlogging.level.root=DEBUG\r\nlogging.level.io.github.jspinak.brobot=DEBUG\r\nbrobot.logging.output.format=SIMPLE\r\nbrobot.logging.performance.async=false\r\nbrobot.logging.enrichment.include-screenshots=true\r\nbrobot.logging.enrichment.include-timing-breakdown=true\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-high-performance-configuration",children:"3. High-Performance Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"# Maximum performance\r\nlogging.level.root=ERROR\r\nbrobot.logging.performance.async=true\r\nbrobot.logging.performance.buffer-size=65536\r\nbrobot.logging.output.format=JSON\r\n# Disable all enrichment\r\nbrobot.logging.enrichment.include-screenshots=false\r\nbrobot.logging.enrichment.include-similarity-scores=false\r\nbrobot.logging.enrichment.include-timing-breakdown=false\r\nbrobot.logging.enrichment.include-memory-usage=false\n"})}),"\n",(0,o.jsx)(n.h2,{id:"monitoring-logging-performance",children:"Monitoring Logging Performance"}),"\n",(0,o.jsx)(n.h3,{id:"enable-performance-metrics",children:"Enable Performance Metrics"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"logging.level.io.github.jspinak.brobot.performance=DEBUG\r\nbrobot.logging.enrichment.include-timing-breakdown=true\n"})}),"\n",(0,o.jsx)(n.h3,{id:"sample-performance-log",children:"Sample Performance Log"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\r\n  "category": "PERFORMANCE",\r\n  "level": "DEBUG",\r\n  "message": "Logging overhead analysis",\r\n  "context": {\r\n    "log_build_time_ms": 0.5,\r\n    "format_time_ms": 0.2,\r\n    "write_time_ms": 0.8,\r\n    "total_overhead_ms": 1.5,\r\n    "entries_per_second": 650\r\n  }\r\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting-performance-issues",children:"Troubleshooting Performance Issues"}),"\n",(0,o.jsx)(n.h3,{id:"symptoms-high-cpu-usage",children:"Symptoms: High CPU Usage"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": Too much DEBUG/TRACE logging\r\n",(0,o.jsx)(n.strong,{children:"Solution"}),": Reduce log levels"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"logging.level.root=INFO\r\nlogging.level.io.github.jspinak.brobot=WARN\n"})}),"\n",(0,o.jsx)(n.h3,{id:"symptoms-memory-growth",children:"Symptoms: Memory Growth"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": Large async buffers with slow I/O\r\n",(0,o.jsx)(n.strong,{children:"Solution"}),": Reduce buffer size or disable async"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"brobot.logging.performance.async=false\r\n# OR\r\nbrobot.logging.performance.buffer-size=8192\n"})}),"\n",(0,o.jsx)(n.h3,{id:"symptoms-slow-action-execution",children:"Symptoms: Slow Action Execution"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": Screenshot capture on every action\r\n",(0,o.jsx)(n.strong,{children:"Solution"}),": Disable screenshots"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"brobot.logging.enrichment.include-screenshots=false\n"})}),"\n",(0,o.jsx)(n.h3,{id:"symptoms-log-file-growth",children:"Symptoms: Log File Growth"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Cause"}),": TRACE level or JSON format\r\n",(0,o.jsx)(n.strong,{children:"Solution"}),": Use appropriate levels and consider log rotation"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-properties",children:"logging.level.root=INFO\r\n# Configure logback for rotation\n"})})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);