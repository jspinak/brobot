"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1101],{13098:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"core-library/tools/image-find-debugging","title":"Image Find Debugging System","description":"Overview","source":"@site/docs/03-core-library/tools/image-find-debugging.md","sourceDirName":"03-core-library/tools","slug":"/core-library/tools/image-find-debugging","permalink":"/brobot/docs/core-library/tools/image-find-debugging","draft":false,"unlisted":false,"editUrl":"https://github.com/jspinak/brobot/edit/main/docs/docs/03-core-library/tools/image-find-debugging.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docSidebar","previous":{"title":"Screenshot Capture Methods Comparison Study","permalink":"/brobot/docs/core-library/tools/capture-methods-comparison"},"next":{"title":"Brobot Pattern Capture Tool Guide","permalink":"/brobot/docs/core-library/tools/pattern-capture-tool-guide"}}');var r=i(74848),l=i(28453);const t={},o="Image Find Debugging System",d={},c=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"1. <strong>Colorful Console Output</strong>",id:"1-colorful-console-output",level:3},{value:"2. <strong>Visual Debugging</strong>",id:"2-visual-debugging",level:3},{value:"3. <strong>Detailed Reports</strong>",id:"3-detailed-reports",level:3},{value:"4. <strong>File Saving</strong>",id:"4-file-saving",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Enabling Debug Mode",id:"enabling-debug-mode",level:3},{value:"Using Debug Profile",id:"using-debug-profile",level:3},{value:"Debug Levels",id:"debug-levels",level:2},{value:"OFF",id:"off",level:3},{value:"BASIC",id:"basic",level:3},{value:"DETAILED",id:"detailed",level:3},{value:"VISUAL",id:"visual",level:3},{value:"FULL",id:"full",level:3},{value:"Console Output Examples",id:"console-output-examples",level:2},{value:"Successful Find",id:"successful-find",level:3},{value:"Failed Find",id:"failed-find",level:3},{value:"Visual Output",id:"visual-output",level:2},{value:"Annotated Screenshots",id:"annotated-screenshots",level:3},{value:"Comparison Grids",id:"comparison-grids",level:3},{value:"Report Generation",id:"report-generation",level:2},{value:"HTML Reports",id:"html-reports",level:3},{value:"JSON Reports",id:"json-reports",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Images Not Found",id:"images-not-found",level:3},{value:"Performance Issues",id:"performance-issues",level:3},{value:"Windows Snipping Tool Issues",id:"windows-snipping-tool-issues",level:3},{value:"Integration with CI/CD",id:"integration-with-cicd",level:2},{value:"GitHub Actions",id:"github-actions",level:3},{value:"Jenkins",id:"jenkins",level:3},{value:"API Usage",id:"api-usage",level:2},{value:"Programmatic Access",id:"programmatic-access",level:3},{value:"Custom Debug Info",id:"custom-debug-info",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Performance Impact",id:"performance-impact",level:2},{value:"Support",id:"support",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"image-find-debugging-system",children:"Image Find Debugging System"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The Brobot Image Find Debugging System provides comprehensive debugging capabilities for troubleshooting pattern matching and image finding issues. It offers colorful console output, visual annotations, and detailed HTML/JSON reports to help developers understand why images are not being found."}),"\n",(0,r.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(n.h3,{id:"1-colorful-console-output",children:["1. ",(0,r.jsx)(n.strong,{children:"Colorful Console Output"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time feedback with ANSI colors"}),"\n",(0,r.jsx)(n.li,{children:"Success/failure indicators with visual symbols (\u2705 \u274c)"}),"\n",(0,r.jsx)(n.li,{children:"Similarity scores and timing information"}),"\n",(0,r.jsx)(n.li,{children:"Pattern dimensions and match counts"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-visual-debugging",children:["2. ",(0,r.jsx)(n.strong,{children:"Visual Debugging"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Annotated screenshots showing search regions"}),"\n",(0,r.jsx)(n.li,{children:"Match highlights with similarity scores"}),"\n",(0,r.jsx)(n.li,{children:"Comparison grids showing pattern vs matched regions"}),"\n",(0,r.jsx)(n.li,{children:"Failed region indicators"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"3-detailed-reports",children:["3. ",(0,r.jsx)(n.strong,{children:"Detailed Reports"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"HTML reports with interactive timeline"}),"\n",(0,r.jsx)(n.li,{children:"JSON reports for programmatic analysis"}),"\n",(0,r.jsx)(n.li,{children:"Session statistics and summaries"}),"\n",(0,r.jsx)(n.li,{children:"Performance metrics"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"4-file-saving",children:["4. ",(0,r.jsx)(n.strong,{children:"File Saving"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Screenshots of each find operation"}),"\n",(0,r.jsx)(n.li,{children:"Pattern images for reference"}),"\n",(0,r.jsx)(n.li,{children:"Visual comparison grids"}),"\n",(0,r.jsx)(n.li,{children:"All outputs organized by session"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"enabling-debug-mode",children:"Enabling Debug Mode"}),"\n",(0,r.jsxs)(n.p,{children:["Add these properties to your ",(0,r.jsx)(n.code,{children:"application.properties"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"# Enable image find debugging\r\nbrobot.debug.image.enabled=true\r\n\r\n# Set debug level (OFF, BASIC, DETAILED, VISUAL, FULL)\r\nbrobot.debug.image.level=DETAILED\r\n\r\n# Enable visual debugging\r\nbrobot.debug.image.visual.enabled=true\r\n\r\n# Enable colorful console output\r\nbrobot.debug.image.console.use-colors=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"using-debug-profile",children:"Using Debug Profile"}),"\n",(0,r.jsx)(n.p,{children:"For comprehensive debugging, use the provided debug profile:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"./gradlew bootRun --args='--spring.profiles.active=debug'\n"})}),"\n",(0,r.jsx)(n.p,{children:"This enables:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Colorful console output"}),"\n",(0,r.jsx)(n.li,{children:"Visual annotations"}),"\n",(0,r.jsx)(n.li,{children:"File saving"}),"\n",(0,r.jsx)(n.li,{children:"Detailed logging"}),"\n",(0,r.jsx)(n.li,{children:"Report generation"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"debug-levels",children:"Debug Levels"}),"\n",(0,r.jsx)(n.h3,{id:"off",children:"OFF"}),"\n",(0,r.jsx)(n.p,{children:"No debugging output"}),"\n",(0,r.jsx)(n.h3,{id:"basic",children:"BASIC"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Success/failure status"}),"\n",(0,r.jsx)(n.li,{children:"Basic timing information"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"detailed",children:"DETAILED"}),"\n",(0,r.jsx)(n.p,{children:"Everything from BASIC plus:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Similarity scores"}),"\n",(0,r.jsx)(n.li,{children:"Search parameters"}),"\n",(0,r.jsx)(n.li,{children:"Match locations"}),"\n",(0,r.jsx)(n.li,{children:"Failure reasons"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"visual",children:"VISUAL"}),"\n",(0,r.jsx)(n.p,{children:"Everything from DETAILED plus:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Visual annotations"}),"\n",(0,r.jsx)(n.li,{children:"Screenshot saving"}),"\n",(0,r.jsx)(n.li,{children:"Comparison grids"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"full",children:"FULL"}),"\n",(0,r.jsx)(n.p,{children:"Everything from VISUAL plus:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Memory usage"}),"\n",(0,r.jsx)(n.li,{children:"Performance metrics"}),"\n",(0,r.jsx)(n.li,{children:"Complete operation traces"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"console-output-examples",children:"Console Output Examples"}),"\n",(0,r.jsx)(n.h3,{id:"successful-find",children:"Successful Find"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[10:23:45.123] FIND #1 LoginButton (120x40) \u2705 FOUND [95.2%] \u23f3 234ms\r\n  Search: threshold=0.80 region=Region(x=0, y=0, w=1920, h=1080)\r\n  Matches:\r\n    \u2022 Match at (850,450) score=0.952\n"})}),"\n",(0,r.jsx)(n.h3,{id:"failed-find",children:"Failed Find"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[10:23:46.456] FIND #2 SubmitButton (100x35) \u274c NOT FOUND best: 68.5% \u23f3 567ms\r\n  Search: threshold=0.80\r\n  - Best match (68.5%) below threshold (80.0%)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"visual-output",children:"Visual Output"}),"\n",(0,r.jsx)(n.h3,{id:"annotated-screenshots",children:"Annotated Screenshots"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Blue dashed lines: Search regions"}),"\n",(0,r.jsx)(n.li,{children:"Green rectangles: Successful matches"}),"\n",(0,r.jsx)(n.li,{children:"Yellow rectangle: Best match"}),"\n",(0,r.jsx)(n.li,{children:"Red X: Failed searches"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"comparison-grids",children:"Comparison Grids"}),"\n",(0,r.jsx)(n.p,{children:"Side-by-side comparison of:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Original pattern"}),"\n",(0,r.jsx)(n.li,{children:"Found matches"}),"\n",(0,r.jsx)(n.li,{children:"Similarity scores"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"report-generation",children:"Report Generation"}),"\n",(0,r.jsx)(n.h3,{id:"html-reports",children:"HTML Reports"}),"\n",(0,r.jsxs)(n.p,{children:["Located at: ",(0,r.jsx)(n.code,{children:"debug/image-finding/{session-id}/reports/report.html"})]}),"\n",(0,r.jsx)(n.p,{children:"Contains:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Session summary statistics"}),"\n",(0,r.jsx)(n.li,{children:"Timeline of all operations"}),"\n",(0,r.jsx)(n.li,{children:"Success rate metrics"}),"\n",(0,r.jsx)(n.li,{children:"Interactive operation cards"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"json-reports",children:"JSON Reports"}),"\n",(0,r.jsxs)(n.p,{children:["Located at: ",(0,r.jsx)(n.code,{children:"debug/image-finding/{session-id}/reports/report.json"})]}),"\n",(0,r.jsx)(n.p,{children:"Structured data for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Automated analysis"}),"\n",(0,r.jsx)(n.li,{children:"CI/CD integration"}),"\n",(0,r.jsx)(n.li,{children:"Performance tracking"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,r.jsx)(n.h3,{id:"images-not-found",children:"Images Not Found"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check similarity threshold"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"brobot.find.similarity=0.7  # Lower for more lenient matching\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Verify image format"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use PNG format for best results"}),"\n",(0,r.jsx)(n.li,{children:"Avoid JPEG for UI elements"}),"\n",(0,r.jsx)(n.li,{children:"Ensure no scaling/compression"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Review debug output"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Check "best score" in console'}),"\n",(0,r.jsx)(n.li,{children:"Look at visual comparisons"}),"\n",(0,r.jsx)(n.li,{children:"Examine failure reasons"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Adjust debug level"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"brobot.debug.image.level=BASIC  # Reduce overhead\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Disable file saving"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"brobot.debug.image.save-screenshots=false\r\nbrobot.debug.image.save-patterns=false\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"windows-snipping-tool-issues",children:"Windows Snipping Tool Issues"}),"\n",(0,r.jsx)(n.p,{children:"When using Windows Snipping Tool (Win+Shift+S):"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Save as PNG, not JPEG"}),"\n",(0,r.jsx)(n.li,{children:"Avoid resizing after capture"}),"\n",(0,r.jsx)(n.li,{children:"Check DPI scaling settings"}),"\n",(0,r.jsx)(n.li,{children:"Use debug mode to see actual similarity scores"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration-with-cicd",children:"Integration with CI/CD"}),"\n",(0,r.jsx)(n.h3,{id:"github-actions",children:"GitHub Actions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- name: Run tests with debug\r\n  run: ./gradlew test --args='--spring.profiles.active=debug'\r\n  \r\n- name: Upload debug artifacts\r\n  if: failure()\r\n  uses: actions/upload-artifact@v2\r\n  with:\r\n    name: debug-reports\r\n    path: debug/image-finding/**\n"})}),"\n",(0,r.jsx)(n.h3,{id:"jenkins",children:"Jenkins"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-groovy",children:"stage('Test with Debug') {\r\n    steps {\r\n        sh './gradlew test -Dspring.profiles.active=debug'\r\n    }\r\n    post {\r\n        failure {\r\n            archiveArtifacts artifacts: 'debug/image-finding/**'\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"api-usage",children:"API Usage"}),"\n",(0,r.jsx)(n.h3,{id:"programmatic-access",children:"Programmatic Access"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Autowired\r\nprivate ImageFindDebugger debugger;\r\n\r\n// Initialize session\r\ndebugger.initializeSession();\r\n\r\n// Debug operations are automatically intercepted\r\nActionResult result = action.find(stateImage);\r\n\r\n// Finalize and generate reports\r\ndebugger.finalizeSession();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-debug-info",children:"Custom Debug Info"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'ImageFindDebugger.FindDebugInfo debugInfo = \r\n    debugger.debugFindOperation(objectCollection, options, result);\r\n\r\nSystem.out.println("Operation ID: " + debugInfo.getOperationId());\r\nSystem.out.println("Best Score: " + debugInfo.getBestScore());\r\nSystem.out.println("Duration: " + debugInfo.getSearchDuration() + "ms");\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Development"}),": Use DETAILED or VISUAL level"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Use BASIC level with file saving disabled"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Production"}),": Keep debugging OFF or use BASIC for critical operations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CI/CD"}),": Enable on failure with artifact collection"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"performance-impact",children:"Performance Impact"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Level"}),(0,r.jsx)(n.th,{children:"Console Output"}),(0,r.jsx)(n.th,{children:"File I/O"}),(0,r.jsx)(n.th,{children:"Performance Impact"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OFF"}),(0,r.jsx)(n.td,{children:"None"}),(0,r.jsx)(n.td,{children:"None"}),(0,r.jsx)(n.td,{children:"0%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"BASIC"}),(0,r.jsx)(n.td,{children:"Minimal"}),(0,r.jsx)(n.td,{children:"None"}),(0,r.jsx)(n.td,{children:"~2%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"DETAILED"}),(0,r.jsx)(n.td,{children:"Moderate"}),(0,r.jsx)(n.td,{children:"None"}),(0,r.jsx)(n.td,{children:"~5%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"VISUAL"}),(0,r.jsx)(n.td,{children:"Heavy"}),(0,r.jsx)(n.td,{children:"Heavy"}),(0,r.jsx)(n.td,{children:"~15-20%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"FULL"}),(0,r.jsx)(n.td,{children:"Very Heavy"}),(0,r.jsx)(n.td,{children:"Very Heavy"}),(0,r.jsx)(n.td,{children:"~25-30%"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"support",children:"Support"}),"\n",(0,r.jsx)(n.p,{children:"For issues or questions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check the debug reports first"}),"\n",(0,r.jsx)(n.li,{children:"Review console output for clues"}),"\n",(0,r.jsx)(n.li,{children:"Examine visual comparisons"}),"\n",(0,r.jsx)(n.li,{children:"Adjust similarity thresholds"}),"\n",(0,r.jsx)(n.li,{children:"Verify image quality and format"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var s=i(96540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);