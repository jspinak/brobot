"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2308],{26024:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"core-library/tools/quick-start-capture-setup","title":"Quick Start: Pattern Capture Setup","description":"This guide helps you quickly set up the optimal pattern capture workflow based on extensive testing and comparison.","source":"@site/docs/03-core-library/tools/quick-start-capture-setup.md","sourceDirName":"03-core-library/tools","slug":"/core-library/tools/quick-start-capture-setup","permalink":"/brobot/docs/core-library/tools/quick-start-capture-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/jspinak/brobot/edit/main/docs/docs/03-core-library/tools/quick-start-capture-setup.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docSidebar","previous":{"title":"Pattern Creation Tools Guide","permalink":"/brobot/docs/core-library/tools/pattern-creation-tools"},"next":{"title":"Testing Overview","permalink":"/brobot/docs/testing/testing-intro"}}');var i=t(74848),s=t(28453);const o={},l="Quick Start: Pattern Capture Setup",c={},a=[{value:"TL;DR - Best Configuration",id:"tldr---best-configuration",level:2},{value:"Why This Configuration?",id:"why-this-configuration",level:2},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"Step 1: Configure Brobot",id:"step-1-configure-brobot",level:3},{value:"Step 2: Choose Your Capture Tool",id:"step-2-choose-your-capture-tool",level:3},{value:"Option A: OS Native Tools (RECOMMENDED)",id:"option-a-os-native-tools-recommended",level:4},{value:"Option B: Brobot Pattern Capture Tool (For Testing)",id:"option-b-brobot-pattern-capture-tool-for-testing",level:4},{value:"Option C: SikuliX IDE (For Testing Only)",id:"option-c-sikulix-ide-for-testing-only",level:4},{value:"Verification",id:"verification",level:2},{value:"Test Your Setup",id:"test-your-setup",level:3},{value:"Expected Results",id:"expected-results",level:3},{value:"Common Patterns by Resolution",id:"common-patterns-by-resolution",level:2},{value:"Quick Troubleshooting",id:"quick-troubleshooting",level:2},{value:"&quot;Pattern not found&quot; with high threshold",id:"pattern-not-found-with-high-threshold",level:3},{value:"&quot;FFmpeg not available&quot;",id:"ffmpeg-not-available",level:3},{value:"Different colors between captures",id:"different-colors-between-captures",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"DO \u2705",id:"do-",level:3},{value:"DON&#39;T \u274c",id:"dont-",level:3},{value:"Performance Tips",id:"performance-tips",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"quick-start-pattern-capture-setup",children:"Quick Start: Pattern Capture Setup"})}),"\n",(0,i.jsx)(n.p,{children:"This guide helps you quickly set up the optimal pattern capture workflow based on extensive testing and comparison."}),"\n",(0,i.jsx)(n.h2,{id:"tldr---best-configuration",children:"TL;DR - Best Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-properties",children:"# Add to application.properties\r\nbrobot.capture.provider=JAVACV_FFMPEG\r\nbrobot.dpi.resize-factor=auto\r\nbrobot.action.similarity=0.70\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"For pattern creation, use OS native tools:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Windows"}),": Windows Snipping Tool (Win+Shift+S) - ",(0,i.jsx)(n.strong,{children:"95-100% match rate"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"macOS"}),": Built-in screenshot (Cmd+Shift+4) - ",(0,i.jsx)(n.strong,{children:"95-100% match rate"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Linux"}),": GNOME Screenshot or Spectacle - ",(0,i.jsx)(n.strong,{children:"95-100% match rate"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": While FFmpeg captures match Windows screenshots pixel-perfectly, Windows Snipping Tool patterns achieve better runtime match rates."]}),"\n",(0,i.jsx)(n.h2,{id:"why-this-configuration",children:"Why This Configuration?"}),"\n",(0,i.jsx)(n.p,{children:"Based on comprehensive testing comparing 8 different capture methods:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Windows Snipping Tool patterns achieve 95-100% runtime match rates"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"FFmpeg patterns only achieve 70-80% runtime match rates"})}),"\n",(0,i.jsx)(n.li,{children:"Clean, artifact-free patterns from native OS tools match better"}),"\n",(0,i.jsx)(n.li,{children:"JavaCV FFmpeg for runtime capture at physical resolution (1920x1080)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,i.jsx)(n.h3,{id:"step-1-configure-brobot",children:"Step 1: Configure Brobot"}),"\n",(0,i.jsxs)(n.p,{children:["Add to your ",(0,i.jsx)(n.code,{children:"application.properties"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-properties",children:"# Essential settings for optimal capture\r\nbrobot.capture.provider=JAVACV_FFMPEG  # Use bundled FFmpeg\r\nbrobot.dpi.resize-factor=auto          # Auto-detect screen scaling\r\nbrobot.capture.prefer-physical=true    # Prefer physical resolution\r\n\r\n# Optional: Fine-tuning\r\nbrobot.action.similarity=0.70          # Can go higher with FFmpeg\r\nbrobot.capture.enable-logging=true     # See what's happening\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-2-choose-your-capture-tool",children:"Step 2: Choose Your Capture Tool"}),"\n",(0,i.jsx)(n.h4,{id:"option-a-os-native-tools-recommended",children:"Option A: OS Native Tools (RECOMMENDED)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Windows:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Press ",(0,i.jsx)(n.code,{children:"Win+Shift+S"})]}),"\n",(0,i.jsx)(n.li,{children:"Select the UI element"}),"\n",(0,i.jsxs)(n.li,{children:["Save to your project's ",(0,i.jsx)(n.code,{children:"images/[state-name]/"})," folder"]}),"\n",(0,i.jsxs)(n.li,{children:["Name descriptively (e.g., ",(0,i.jsx)(n.code,{children:"login-button.png"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"macOS:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Press ",(0,i.jsx)(n.code,{children:"Cmd+Shift+4"})]}),"\n",(0,i.jsx)(n.li,{children:"Select the UI element"}),"\n",(0,i.jsx)(n.li,{children:"Save as PNG"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Linux:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Use GNOME Screenshot or Spectacle"}),"\n",(0,i.jsx)(n.li,{children:"Select region mode"}),"\n",(0,i.jsx)(n.li,{children:"Save as PNG"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pros:"})," Best runtime match rates (95-100%), no setup required\r\n",(0,i.jsx)(n.strong,{children:"Cons:"})," Manual file organization"]}),"\n",(0,i.jsx)(n.h4,{id:"option-b-brobot-pattern-capture-tool-for-testing",children:"Option B: Brobot Pattern Capture Tool (For Testing)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Run the tool: ",(0,i.jsx)(n.code,{children:"java -jar pattern-capture-tool-1.0.0.jar"})]}),"\n",(0,i.jsx)(n.li,{children:"Use any provider for testing similarity"}),"\n",(0,i.jsx)(n.li,{children:'Press F1 or click "Capture"'}),"\n",(0,i.jsxs)(n.li,{children:["Auto-saves to ",(0,i.jsx)(n.code,{children:"patterns/"})," folder with timestamp"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pros:"})," Good for testing patterns, auto-organization\r\n",(0,i.jsx)(n.strong,{children:"Cons:"})," Lower runtime match rates (70-80%) than native OS tools"]}),"\n",(0,i.jsx)(n.h4,{id:"option-c-sikulix-ide-for-testing-only",children:"Option C: SikuliX IDE (For Testing Only)"}),"\n",(0,i.jsx)(n.p,{children:"SikuliX IDE can be used to test similarity thresholds but achieves lower runtime match rates (70-80%) compared to native OS tools."}),"\n",(0,i.jsx)(n.h2,{id:"verification",children:"Verification"}),"\n",(0,i.jsx)(n.h3,{id:"test-your-setup",children:"Test Your Setup"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Capture a test pattern using your chosen method"}),"\n",(0,i.jsx)(n.li,{children:"Run this verification code:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Test\r\npublic void verifyPatternCapture() {\r\n    // Your captured pattern\r\n    StateImage testPattern = new StateImage.Builder()\r\n        .withPath("images/test/my-pattern.png")\r\n        .build();\r\n    \r\n    // Should find with high confidence\r\n    ActionResult result = action.find(testPattern);\r\n    assertTrue(result.isSuccess());\r\n    assertTrue(result.getScore() > 0.90); // Should be >90% with FFmpeg\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"expected-results",children:"Expected Results"}),"\n",(0,i.jsx)(n.p,{children:"With correct setup:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Similarity scores > 90%"})," for exact matches"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Consistent results"})," across different capture sessions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fast pattern matching"})," (< 1 second for full screen)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"common-patterns-by-resolution",children:"Common Patterns by Resolution"}),"\n",(0,i.jsx)(n.p,{children:"Your patterns will be captured at:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Display Scaling"}),(0,i.jsx)(n.th,{children:"Capture Resolution"}),(0,i.jsx)(n.th,{children:"Method"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"100% (No scaling)"}),(0,i.jsx)(n.td,{children:"1920x1080"}),(0,i.jsx)(n.td,{children:"All methods same"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"125% (Recommended)"}),(0,i.jsx)(n.td,{children:"1920x1080"}),(0,i.jsx)(n.td,{children:"FFmpeg, Windows"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"125% (Recommended)"}),(0,i.jsx)(n.td,{children:"1536x864"}),(0,i.jsx)(n.td,{children:"SikuliX, Robot"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"150%"}),(0,i.jsx)(n.td,{children:"1920x1080"}),(0,i.jsx)(n.td,{children:"FFmpeg, Windows"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"150%"}),(0,i.jsx)(n.td,{children:"1280x720"}),(0,i.jsx)(n.td,{children:"SikuliX, Robot"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"FFmpeg always captures at physical resolution"}),", making patterns portable across different scaling settings."]}),"\n",(0,i.jsx)(n.h2,{id:"quick-troubleshooting",children:"Quick Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"pattern-not-found-with-high-threshold",children:'"Pattern not found" with high threshold'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-properties",children:"# Lower similarity temporarily to debug\r\nbrobot.action.similarity=0.60\r\nbrobot.console.actions.enabled=true  # See match scores\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ffmpeg-not-available",children:'"FFmpeg not available"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// In your test or main class\r\n@Autowired\r\nprivate CaptureConfiguration captureConfig;\r\n\r\n// Check available providers\r\ncaptureConfig.printConfiguration();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"different-colors-between-captures",children:"Different colors between captures"}),"\n",(0,i.jsx)(n.p,{children:"This is normal and doesn't affect matching. FFmpeg handles color spaces consistently."}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"do-",children:"DO \u2705"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use FFmpeg provider for new projects"}),"\n",(0,i.jsx)(n.li,{children:"Capture at physical resolution when possible"}),"\n",(0,i.jsx)(n.li,{children:"Keep patterns small and focused (< 200x200 pixels)"}),"\n",(0,i.jsx)(n.li,{children:"Name patterns descriptively"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"dont-",children:"DON'T \u274c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Mix patterns from different providers without testing"}),"\n",(0,i.jsx)(n.li,{children:"Capture entire windows (use specific UI elements)"}),"\n",(0,i.jsx)(n.li,{children:"Use similarity threshold below 0.60"}),"\n",(0,i.jsx)(n.li,{children:"Ignore DPI scaling on high-DPI displays"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,i.jsx)(n.p,{children:"Based on testing with 1000+ patterns:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Small patterns match faster"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"50x50: ~0.1s"}),"\n",(0,i.jsx)(n.li,{children:"200x200: ~0.3s"}),"\n",(0,i.jsx)(n.li,{children:"Full screen: ~1.0s"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"FFmpeg has best compression"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"20-30% smaller files than other methods"}),"\n",(0,i.jsx)(n.li,{children:"Faster loading from disk"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Batch capture for efficiency"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use Pattern Capture Tool for multiple patterns"}),"\n",(0,i.jsx)(n.li,{children:"Maintains consistent capture settings"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u2705 Configure Brobot with recommended settings"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Choose your capture tool (Windows or Brobot Tool)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Capture a test pattern and verify"}),"\n",(0,i.jsxs)(n.li,{children:["\ud83d\udcd6 Read ",(0,i.jsx)(n.a,{href:"/brobot/docs/core-library/tools/capture-methods-comparison",children:"full comparison study"})," for detailed analysis"]}),"\n",(0,i.jsx)(n.li,{children:"\ud83d\ude80 Start capturing patterns for your automation!"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.p,{children:["The extensive testing proved that ",(0,i.jsx)(n.strong,{children:"FFmpeg with either Windows Snipping Tool or Brobot Pattern Capture Tool provides optimal results"}),". This configuration ensures:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"100% compatibility between tools"}),"\n",(0,i.jsx)(n.li,{children:"Consistent pattern matching"}),"\n",(0,i.jsx)(n.li,{children:"Best file compression"}),"\n",(0,i.jsx)(n.li,{children:"Resolution independence"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"No more guessing - this configuration is proven by data!"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var r=t(96540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);