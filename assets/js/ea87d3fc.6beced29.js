"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4572],{28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>a});var n=o(96540);const i={},r=n.createContext(i);function s(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(r.Provider,{value:t},e.children)}},67141:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"architecture-notes/repositories","title":"BrobotApp","description":"Issues with a Single Project Repository","source":"@site/versioned_docs/version-1.0.6/architecture-notes/repositories.md","sourceDirName":"architecture-notes","slug":"/architecture-notes/repositories","permalink":"/brobot/docs/1.0.6/architecture-notes/repositories","draft":false,"unlisted":false,"editUrl":"https://github.com/jspinak/brobot/edit/main/docs/versioned_docs/version-1.0.6/architecture-notes/repositories.md","tags":[],"version":"1.0.6","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docSidebar","previous":{"title":"Database","permalink":"/brobot/docs/1.0.6/architecture-notes/database"},"next":{"title":"Transitions with the BrobotApp","permalink":"/brobot/docs/1.0.6/architecture-notes/domain specific language"}}');var i=o(74848),r=o(28453);const s={sidebar_position:3},a="BrobotApp",l={},c=[{value:"Issues with a Single Project Repository",id:"issues-with-a-single-project-repository",level:2},{value:"Solutions",id:"solutions",level:2}];function d(e){const t={h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"brobotapp",children:"BrobotApp"})}),"\n",(0,i.jsx)(t.h2,{id:"issues-with-a-single-project-repository",children:"Issues with a Single Project Repository"}),"\n",(0,i.jsx)(t.p,{children:"I initially added the database and web functionality to the Brobot\nrepository on GitHub. The React front-end code went in the root folder\n'web', added to the set of root folders containing 'library' and 'docs'."}),"\n",(0,i.jsx)(t.p,{children:"Problems with using MVC in a Spring Boot library caused me to consider\ncreating a new repository for these functions. The first problem was that\nthe GET requests were not visible in the http endpoints. Additionally, a client\nBrobot application would not stay active for REST communication, despite its\ndependency to the Brobot library, which was configured as a Spring MVC project\nwith @Service and @Controller classes."}),"\n",(0,i.jsx)(t.h2,{id:"solutions",children:"Solutions"}),"\n",(0,i.jsx)(t.p,{children:"Since Brobot is a Spring Boot library, it cannot be run independently as a Spring\nBoot applications. This is necessary for it to be included as a dependency in Spring\nBoot client applications and for its beans to be available to the client. Libraries do\nnot typically include MVC functionality and I presume this is the cause of the issues I\nhad with the MVC functionality."}),"\n",(0,i.jsx)(t.p,{children:"The solution is to create a separate repository for a Spring Boot application (and not a library)\nthat includes the @Service and @Controller classes and has Brobot as a dependency. This\nrepository holds the software necessary to create state models using a GUI. I'll refer to this software as BrobotApp\nor the App and continue referring to the library as Brobot."}),"\n",(0,i.jsx)(t.p,{children:"The React front-end lives in a separate repository, under /web. I'll call it BrobotWeb or Web. It is to be used\nwith the App to facilitate creating state models."}),"\n",(0,i.jsx)(t.p,{children:"I created an additional folder for the logging capabilities. It is best practices not to have REST communication\nin a library module. For this reason as well as to have more modularity and separation of concerns, logging and\ncommunication with REST endpoints for the Elasticsearch containers are now handled by the logging module. The\nfolder is /log and I call it BrobotLogging or Logging."}),"\n",(0,i.jsx)(t.h1,{id:"multi-module-project",children:"Multi-Module Project"}),"\n",(0,i.jsx)(t.p,{children:"I decided to compartmentalize functionality with a multi-module project and keep all modules in the same Github\nrepository.\nThe modules are:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"library"}),"\n",(0,i.jsx)(t.li,{children:"app"}),"\n",(0,i.jsx)(t.li,{children:"log"}),"\n",(0,i.jsx)(t.li,{children:"web"}),"\n",(0,i.jsx)(t.li,{children:"library-test"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The library tests are in a separate module because they require running a Spring Boot application and use the\nannotation @SpringBootTest, but the library module is not a Spring Boot Application and does not have the\n@SpringBootApplication annotation. Keeping the tests in a separate module allows for separation of concerns and\nkeeps the library's dependencies specific to its functionality. Make sure to exclude the module library-test from\nthe production jar."})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);