<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-core-library/guides/declarative-region-definition" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Declarative Region Definition | Brobot</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://jspinak.github.io/brobot/docs/core-library/guides/declarative-region-definition"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Declarative Region Definition | Brobot"><meta data-rh="true" name="description" content="Brobot 1.1.0 introduces a powerful declarative approach to defining search regions for StateImages. This guide explains how to define regions that are dynamically calculated relative to other state objects."><meta data-rh="true" property="og:description" content="Brobot 1.1.0 introduces a powerful declarative approach to defining search regions for StateImages. This guide explains how to define regions that are dynamically calculated relative to other state objects."><link data-rh="true" rel="icon" href="/brobot/img/brobot-happy.ico"><link data-rh="true" rel="canonical" href="https://jspinak.github.io/brobot/docs/core-library/guides/declarative-region-definition"><link data-rh="true" rel="alternate" href="https://jspinak.github.io/brobot/docs/core-library/guides/declarative-region-definition" hreflang="en"><link data-rh="true" rel="alternate" href="https://jspinak.github.io/brobot/docs/core-library/guides/declarative-region-definition" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Declarative Region Definition","item":"https://jspinak.github.io/brobot/docs/core-library/guides/declarative-region-definition"}]}</script><link rel="alternate" type="application/rss+xml" href="/brobot/blog/rss.xml" title="Brobot RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/brobot/blog/atom.xml" title="Brobot Atom Feed">




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6WY1S6ZWEY"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6WY1S6ZWEY",{anonymize_ip:!0})</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous"><link rel="stylesheet" href="/brobot/assets/css/styles.1b22d91f.css">
<script src="/brobot/assets/js/runtime~main.220aa519.js" defer="defer"></script>
<script src="/brobot/assets/js/main.09aa0c21.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/brobot/"><div class="navbar__logo"><img src="/brobot/img/brobot_logo/brobot-happy-text.svg" alt="Brobot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/brobot/img/brobot_logo/brobot-happy-text.svg" alt="Brobot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Brobot</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/brobot/docs/getting-started/introduction">Documentation</a><a href="https://jspinak.github.io/brobot/api/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a class="navbar__item navbar__link" href="/brobot/visualAPI">The Visual API</a><a class="navbar__item navbar__link" href="/brobot/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/brobot/docs/core-library/guides/declarative-region-definition">Latest</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/brobot/docs/core-library/guides/declarative-region-definition">Latest</a></li><li><a class="dropdown__link" href="/brobot/docs/1.0.7/getting-started/introduction">1.0.7</a></li><li><a class="dropdown__link" href="/brobot/docs/1.0.6/introduction">1.0.6</a></li></ul></div><a href="https://github.com/jspinak/brobot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/brobot/docs/getting-started/introduction">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/brobot/docs/core-library/guides/finding-objects/configuration-note">Core Library (for Developers)</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/brobot/docs/core-library/guides/finding-objects/configuration-note">Guides</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/guides/finding-objects/configuration-note">Finding Objects</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/guides/labeling/labeling-intro">Labeling Images</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/processes-as-objects">Processes as Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/dynamic-transitions">Dynamic Transitions and Hidden States</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/pathfinding-and-costs">Pathfinding and Path Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/screen-adaptive-regions">Region Building with Position Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/state-aware-scheduling">State-Aware Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/advanced-illustration-system">Advanced Illustration System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/brobot/docs/core-library/guides/declarative-region-definition">Declarative Region Definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/search-regions-and-fixed-locations">Search Regions and Fixed Locations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/annotations">Annotations API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/runtime-delegation-migration">Runtime Delegation Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/action-config-factory">ActionConfig Factory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/actionhistory-migration-plan">ActionHistory Migration Plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/multi-state-transitions-guide">Multi-State Transitions Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/API_DOCUMENTATION_TEMPLATE">Brobot API Documentation Template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/BUILDER_PERFORMANCE_GUIDE">Builder Pattern Performance Optimization Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/action-refactoring-migration">Action Refactoring Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/claude-automator-console-output">Claude Automator Expected Console Output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/configuration-migration">Configuration Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/highlighting-feature">Image Highlighting Feature</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/migration-guide">Brobot ActionOptions to ActionConfig Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/migration-status-report">Migration Status Report</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/monitor-configuration">Multi-Monitor Configuration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/guides/persistence-user-guide">Persistence Module User Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/brobot/docs/core-library/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/architecture/actionresult-architecture">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/brobot/docs/category/actionconfig-api">ActionConfig API</a><button aria-label="Expand sidebar category &#x27;ActionConfig API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/brobot/docs/core-library/capture/modular-capture-system">Screen Capture</a><button aria-label="Collapse sidebar category &#x27;Screen Capture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/capture/capture-quick-reference">Capture Quick Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/capture/dpi-resolution-guide">DPI and Resolution Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/keyboard/special-keys-guide">Keyboard &amp; Typing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/testing/test-logging-architecture">Advanced Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/brobot/docs/category/migration-guides">Migration Guides</a><button aria-label="Expand sidebar category &#x27;Migration Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/advanced/ASPECTJ_USAGE_GUIDE">advanced</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/brobot/docs/core-library/automation-runner">AutomationRunner - Graceful Failure Handling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/configuration/auto-configuration">configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/opencv-mock-system/architecture">opencv-mock-system</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/brobot/docs/core-library/tools/capture-methods-comparison">tools</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/brobot/docs/testing/testing-intro">Testing Your Automation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/brobot/docs/category/theoretical-foundations">Theoretical Foundations</a><button aria-label="Expand sidebar category &#x27;Theoretical Foundations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/brobot/docs/category/integrations">Integrations</a><button aria-label="Expand sidebar category &#x27;Integrations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/brobot/docs/logging">Brobot Logging System</a><button aria-label="Expand sidebar category &#x27;Brobot Logging System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/brobot/docs/api/javadocs">api</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/brobot/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Library (for Developers)</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Declarative Region Definition</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Latest</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Declarative Region Definition</h1></header>
<p>Brobot 1.1.0 introduces a powerful declarative approach to defining search regions for StateImages. This guide explains how to define regions that are dynamically calculated relative to other state objects.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The declarative approach allows you to:</p>
<ul>
<li>Define search regions relative to other state objects</li>
<li>Apply adjustments and fixed dimensions</li>
<li>Eliminate manual region calculations in your action code</li>
<li>Create more maintainable and reusable state definitions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="searchregiononobject">SearchRegionOnObject<a href="#searchregiononobject" class="hash-link" aria-label="Direct link to SearchRegionOnObject" title="Direct link to SearchRegionOnObject">​</a></h2>
<p>The <code>SearchRegionOnObject</code> class enables dynamic region definition:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class SearchRegionOnObject {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private StateObject.Type targetType;     // Type of target object (IMAGE, REGION, etc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String targetStateName;          // Name of the state containing the target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String targetObjectName;         // Name of the specific object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private MatchAdjustmentOptions adjustments; // Position and size adjustments (reuses existing class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>The <code>adjustments</code> field uses the standard <code>MatchAdjustmentOptions</code> class for consistency with other Brobot operations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-usage">Basic Usage<a href="#basic-usage" class="hash-link" aria-label="Direct link to Basic Usage" title="Direct link to Basic Usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="simple-relative-region">Simple Relative Region<a href="#simple-relative-region" class="hash-link" aria-label="Direct link to Simple Relative Region" title="Direct link to Simple Relative Region">​</a></h3>
<p>Define a search region relative to another StateImage:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">StateImage searchArea = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;search-icon.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;SearchIcon&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetStateName(&quot;MainMenu&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetObjectName(&quot;MenuButton&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="with-adjustments">With Adjustments<a href="#with-adjustments" class="hash-link" aria-label="Direct link to With Adjustments" title="Direct link to With Adjustments">​</a></h3>
<p>Apply position and size adjustments to the derived region:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">StateImage icon = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;status-icon.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;StatusIcon&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetStateName(&quot;Dashboard&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetObjectName(&quot;HeaderBar&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addX(10)    // Move 10 pixels right</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addY(-5)    // Move 5 pixels up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addW(50)    // Expand width by 50 pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addH(20)    // Expand height by 20 pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="with-fixed-dimensions">With Fixed Dimensions<a href="#with-fixed-dimensions" class="hash-link" aria-label="Direct link to With Fixed Dimensions" title="Direct link to With Fixed Dimensions">​</a></h3>
<p>Override the calculated dimensions with fixed values:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">StateImage button = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;submit-button.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;SubmitButton&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetStateName(&quot;Form&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetObjectName(&quot;FormTitle&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addY(100)        // Move down 100 pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .absoluteW(200)   // Fixed width of 200 pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .absoluteH(50)    // Fixed height of 50 pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-example-claude-automator">Real-World Example: Claude Automator<a href="#real-world-example-claude-automator" class="hash-link" aria-label="Direct link to Real-World Example: Claude Automator" title="Direct link to Real-World Example: Claude Automator">​</a></h2>
<p>The claude-automator project demonstrates this pattern effectively:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@State</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WorkingState {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final StateImage claudeIcon;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public WorkingState() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // The search region will be dynamically defined relative to the prompt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        claudeIcon = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addPatterns(&quot;working/claude-icon-1&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;working/claude-icon-2&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;working/claude-icon-3&quot;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;working/claude-icon-4&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setName(&quot;ClaudeIcon&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .targetStateName(&quot;Prompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .targetObjectName(&quot;ClaudePrompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            .addX(3)      // Slight offset to the right</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            .addY(10)     // Below the prompt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            .addW(30)     // Wider search area</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            .addH(55)     // Taller search area</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This declarative approach eliminates the need for manual region calculations:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Before: Manual calculation in action code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void setupIconRegion(Region promptRegion) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Region iconRegion = new Region(promptRegion);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    iconRegion.adjust(3, 10, 30, 55);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workingState.getClaudeIcon().setSearchRegions(iconRegion);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// After: Automatic calculation based on declaration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// No manual setup needed - just use the StateImage directly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ActionResult result = action.perform(findOptions, workingState.getClaudeIcon());</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="builder-methods">Builder Methods<a href="#builder-methods" class="hash-link" aria-label="Direct link to Builder Methods" title="Direct link to Builder Methods">​</a></h2>
<p>The <code>SearchRegionOnObject.builder()</code> provides a fluent API for configuration:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-structure">Basic Structure<a href="#basic-structure" class="hash-link" aria-label="Direct link to Basic Structure" title="Direct link to Basic Structure">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .targetType(StateObject.Type.IMAGE)  // Required: Type of target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .targetStateName(&quot;StateName&quot;)        // Required: State containing target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .targetObjectName(&quot;ObjectName&quot;)      // Required: Name of target object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .adjustments(...)                    // Optional: Position/size adjustments using MatchAdjustmentOptions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build()</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="matchadjustmentoptions-builder">MatchAdjustmentOptions Builder<a href="#matchadjustmentoptions-builder" class="hash-link" aria-label="Direct link to MatchAdjustmentOptions Builder" title="Direct link to MatchAdjustmentOptions Builder">​</a></h3>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addX(10)         // Add to x position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addY(20)         // Add to y position  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addW(30)         // Add to width</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addH(40)         // Add to height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .absoluteW(200)   // Override with fixed width (optional)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .absoluteH(100)   // Override with fixed height (optional)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .targetPosition(Position.CENTER)  // Target position within region (optional)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .targetOffset(new Location(5, 5)) // Additional offset (optional)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build())</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-differences-from-standard-match-adjustments">Key Differences from Standard Match Adjustments<a href="#key-differences-from-standard-match-adjustments" class="hash-link" aria-label="Direct link to Key Differences from Standard Match Adjustments" title="Direct link to Key Differences from Standard Match Adjustments">​</a></h3>
<ul>
<li>When used with SearchRegionOnObject, only position and dimension adjustments apply</li>
<li><code>targetPosition</code> and <code>targetOffset</code> are ignored for search region calculation</li>
<li>Use negative values in <code>addX</code>/<code>addY</code> to move left/up</li>
<li>Use <code>absoluteW</code>/<code>absoluteH</code> set to -1 (default) to not override dimensions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cross-state-references">Cross-State References<a href="#cross-state-references" class="hash-link" aria-label="Direct link to Cross-State References" title="Direct link to Cross-State References">​</a></h2>
<p>SearchRegionOnObject supports referencing objects from different states:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// In LoginState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage loginButton = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;login-button.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;LoginButton&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In DashboardState - reference login button location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage notification = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;notification.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;Notification&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(new SearchRegionOnObject.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetStateName(&quot;Login&quot;)  // Different state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetObjectName(&quot;LoginButton&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .yAdjust(-50)  // Above the login button</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-cross-state-dependencies-work">How Cross-State Dependencies Work<a href="#how-cross-state-dependencies-work" class="hash-link" aria-label="Direct link to How Cross-State Dependencies Work" title="Direct link to How Cross-State Dependencies Work">​</a></h3>
<p>When you define a cross-state dependency:</p>
<ol>
<li>
<p><strong>Registration Phase</strong>: When states are loaded, the <code>SearchRegionDependencyInitializer</code> automatically registers all dependencies with the <code>DynamicRegionResolver</code>.</p>
</li>
<li>
<p><strong>Runtime Resolution</strong>: When a FIND operation succeeds:</p>
<ul>
<li>The <code>FindPipeline</code> calls <code>updateDependentSearchRegions()</code></li>
<li>All objects depending on the found object have their search regions updated</li>
<li>The updates apply the configured adjustments</li>
</ul>
</li>
<li>
<p><strong>Automatic Updates</strong>: Search regions are dynamically updated each time the target object is found in a new location.</p>
</li>
</ol>
<p>Example flow:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 1. ClaudePrompt is found at location (100, 200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. ClaudeIcon&#x27;s search region is automatically updated to (103, 210, width+30, height+55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. Next search for ClaudeIcon uses this updated region</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="immediate-search-region-updates">Immediate Search Region Updates<a href="#immediate-search-region-updates" class="hash-link" aria-label="Direct link to Immediate Search Region Updates" title="Direct link to Immediate Search Region Updates">​</a></h2>
<p>Starting with Brobot 1.1.0, search regions are updated immediately when dependencies are found, ensuring that dependent objects always use the most current region information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-immediate-updates-work">How Immediate Updates Work<a href="#how-immediate-updates-work" class="hash-link" aria-label="Direct link to How Immediate Updates Work" title="Direct link to How Immediate Updates Work">​</a></h3>
<p>When using declarative regions with dependencies:</p>
<ol>
<li>
<p><strong>During Search</strong>: StateImages are automatically ordered by dependencies</p>
<ul>
<li>Images without dependencies are searched first</li>
<li>Dependent images are searched after their dependencies</li>
</ul>
</li>
<li>
<p><strong>On Match Found</strong>: As soon as a match is found:</p>
<ul>
<li>All objects depending on the found object have their regions updated immediately</li>
<li>Remaining objects in the current search batch are updated before being searched</li>
<li>This ensures dependent objects always search in the correct location</li>
</ul>
</li>
<li>
<p><strong>Example Flow</strong>:</p>
</li>
</ol>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Given this setup:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage prompt = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;prompt.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;ClaudePrompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage icon = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;icon.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setName(&quot;ClaudeIcon&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetStateName(&quot;Prompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetObjectName(&quot;ClaudePrompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addX(3).addY(10).addW(30).addH(55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// When searching for both:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">action.perform(findOptions, prompt, icon);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The execution order is:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. Search for ClaudePrompt (no dependencies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. If ClaudePrompt found at (100, 200):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//    - ClaudeIcon&#x27;s search region immediately updated to (103, 210, w+30, h+55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. Search for ClaudeIcon in the updated region</span><br></span></code></pre></div></div>
<p>This immediate update mechanism ensures:</p>
<ul>
<li>Dependent objects are always searched in the correct location</li>
<li>No wasted searches in incorrect regions</li>
<li>Better performance through targeted searching</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-with-state-aware-scheduling">Integration with State-Aware Scheduling<a href="#integration-with-state-aware-scheduling" class="hash-link" aria-label="Direct link to Integration with State-Aware Scheduling" title="Direct link to Integration with State-Aware Scheduling">​</a></h2>
<p>The declarative approach works seamlessly with StateAwareScheduler:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MonitoringService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final StateAwareScheduler scheduler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final WorkingState workingState;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void startMonitoring() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure state checking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        StateCheckConfiguration config = new StateCheckConfiguration.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .withRequiredStates(List.of(&quot;Prompt&quot;, &quot;Working&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Schedule monitoring - regions are resolved automatically</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scheduler.scheduleWithStateCheck(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            executor,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this::checkIcon,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            config,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            5, 2, TimeUnit.SECONDS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void checkIcon() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // The search region is automatically calculated based on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // the current location of ClaudePrompt in PromptState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActionResult result = action.perform(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new PatternFindOptions.Builder().build(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            workingState.getClaudeIcon()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">​</a></h2>
<ol>
<li>
<p><strong>Use Descriptive Names</strong>: Give clear names to both source and target objects</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.targetObject(&quot;HeaderNavigationBar&quot;)  // Clear and specific</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Document Adjustments</strong>: Comment on why specific adjustments are used</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.adjustments(0, 50, 0, 0)  // Below header, same width</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Consider State Dependencies</strong>: Ensure target states are loaded when needed</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.withRequiredStates(List.of(&quot;SourceState&quot;, &quot;TargetState&quot;))</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Use Fixed Dimensions Sparingly</strong>: Prefer relative sizing for responsiveness</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good: Relative adjustment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.wAdjust(20)  // Slightly wider than source</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Use fixed only when necessary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.width(100)   // Fixed width for consistent button size</span><br></span></code></pre></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-from-manual-approach">Migration from Manual Approach<a href="#migration-from-manual-approach" class="hash-link" aria-label="Direct link to Migration from Manual Approach" title="Direct link to Migration from Manual Approach">​</a></h2>
<p>To migrate existing code:</p>
<ol>
<li>
<p><strong>Identify Manual Region Calculations</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Old approach</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Region baseRegion = findResult.getRegion();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Region searchRegion = new Region(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseRegion.x() + 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseRegion.y() + 50,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseRegion.w() + 20,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    baseRegion.h()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stateImage.setSearchRegions(searchRegion);</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Convert to Declarative Definition</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// New approach</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stateImage = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;pattern.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetStateName(&quot;Base&quot;)  // @State removes &quot;State&quot; suffix from class name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .targetObjectName(&quot;BaseImage&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addX(10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addY(50)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addW(20)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addH(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Remove Manual Region Management</strong></p>
<ul>
<li>Delete region calculation code</li>
<li>Remove region storage variables</li>
<li>Simplify action methods</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-architecture">Implementation Architecture<a href="#implementation-architecture" class="hash-link" aria-label="Direct link to Implementation Architecture" title="Direct link to Implementation Architecture">​</a></h2>
<p>The declarative region system consists of several key components:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-components">Core Components<a href="#core-components" class="hash-link" aria-label="Direct link to Core Components" title="Direct link to Core Components">​</a></h3>
<ol>
<li>
<p><strong>SearchRegionOnObject</strong>: The configuration object that defines the dependency</p>
<ul>
<li>Holds target state/object information</li>
<li>Contains adjustment and dimension settings</li>
<li>Attached to StateImages during state construction</li>
</ul>
</li>
<li>
<p><strong>SearchRegionDependencyRegistry</strong>: Tracks all dependencies</p>
<ul>
<li>Maps source objects to their dependents</li>
<li>Provides lookup for dependent objects when sources are found</li>
<li>Thread-safe for concurrent access</li>
</ul>
</li>
<li>
<p><strong>DynamicRegionResolver</strong>: Resolves and updates regions</p>
<ul>
<li>Calculates actual regions based on found objects</li>
<li>Updates dependent object search regions</li>
<li>Handles both same-state and cross-state dependencies</li>
</ul>
</li>
<li>
<p><strong>SearchRegionDependencyInitializer</strong>: Initializes the system</p>
<ul>
<li>Listens for <code>StatesRegisteredEvent</code></li>
<li>Collects all StateObjects with dependencies</li>
<li>Registers them with the DynamicRegionResolver</li>
</ul>
</li>
<li>
<p><strong>FindPipeline Integration</strong>: Triggers updates</p>
<ul>
<li>Calls <code>updateDependentSearchRegions()</code> after successful finds</li>
<li>Ensures dependent regions are updated before next search</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="initialization-flow">Initialization Flow<a href="#initialization-flow" class="hash-link" aria-label="Direct link to Initialization Flow" title="Direct link to Initialization Flow">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Application Start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">States Loaded (@State classes instantiated)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StatesRegisteredEvent Published</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SearchRegionDependencyInitializer Receives Event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Collects All StateObjects with SearchRegionOnObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Registers Dependencies with DynamicRegionResolver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">System Ready for Dynamic Region Updates</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-flow-updated-in-110">Runtime Flow (Updated in 1.1.0+)<a href="#runtime-flow-updated-in-110" class="hash-link" aria-label="Direct link to Runtime Flow (Updated in 1.1.0+)" title="Direct link to Runtime Flow (Updated in 1.1.0+)">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FIND Operation Starts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FindPipeline Orders StateImages by Dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Search for Non-Dependent Images First</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">For Each Match Found:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Immediately Update All Dependent Search Regions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Clear Fixed Regions if Outside New Region</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - Update Remaining Images in Current Batch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Continue Searching Dependent Images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">All Images Use Updated Regions</span><br></span></code></pre></div></div>
<p>Key changes in 1.1.0+:</p>
<ul>
<li><strong>Dependency Ordering</strong>: Images are sorted so dependencies are resolved first</li>
<li><strong>Immediate Updates</strong>: Regions update as soon as dependencies are found</li>
<li><strong>Batch Processing</strong>: Remaining images in a search batch are updated before being searched</li>
<li><strong>Fixed Region Management</strong>: Fixed regions are cleared proactively, not reactively</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-regions-and-declarative-regions">Fixed Regions and Declarative Regions<a href="#fixed-regions-and-declarative-regions" class="hash-link" aria-label="Direct link to Fixed Regions and Declarative Regions" title="Direct link to Fixed Regions and Declarative Regions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interaction-with-fixed-regions">Interaction with Fixed Regions<a href="#interaction-with-fixed-regions" class="hash-link" aria-label="Direct link to Interaction with Fixed Regions" title="Direct link to Interaction with Fixed Regions">​</a></h3>
<p>Fixed regions are automatically set when a StateImage with <code>fixed=true</code> is found for the first time. This optimization improves performance by limiting future searches to the exact location where the pattern was previously found.</p>
<p>However, fixed regions can conflict with declarative regions when the UI layout changes. Brobot 1.1.0+ includes intelligent fixed region management:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-fixed-region-clearing">Automatic Fixed Region Clearing<a href="#automatic-fixed-region-clearing" class="hash-link" aria-label="Direct link to Automatic Fixed Region Clearing" title="Direct link to Automatic Fixed Region Clearing">​</a></h4>
<p>When a declarative region is calculated based on <code>SearchRegionOnObject</code>:</p>
<ol>
<li><strong>Fixed Region Check</strong>: The system checks if there&#x27;s an existing fixed region</li>
<li><strong>Containment Test</strong>: It verifies if the fixed region is within the new declarative region</li>
<li><strong>Automatic Clearing</strong>: If the fixed region is outside the declarative region, it&#x27;s automatically cleared</li>
<li><strong>Region Update</strong>: The search region is updated to use the declarative region</li>
</ol>
<p><strong>Important</strong>: Fixed regions are cleared immediately when a declarative region is applied. This happens as soon as the dependency is found, not when the dependent object is searched.</p>
<p>This ensures that declarative regions take precedence when the UI layout changes:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Example scenario:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1. ClaudeIcon is found at (100, 200) and sets a fixed region</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 2. User moves the window, ClaudePrompt is now at (500, 300)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3. ClaudeIcon&#x27;s declarative region is calculated as (503, 310, w+30, h+55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 4. Fixed region (100, 200) is outside the new region → automatically cleared</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 5. Next search uses the declarative region (503, 310, w+30, h+55)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-fixed-regions">Best Practices for Fixed Regions<a href="#best-practices-for-fixed-regions" class="hash-link" aria-label="Direct link to Best Practices for Fixed Regions" title="Direct link to Best Practices for Fixed Regions">​</a></h4>
<ol>
<li>
<p><strong>Don&#x27;t Set ActionHistory with Declarative Regions</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ WRONG: ActionHistory creates a fixed region that conflicts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage icon = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;icon.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .withActionHistory(MockActionHistoryBuilder.Presets.reliable(region))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ CORRECT: Let declarative regions manage the search area</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage icon = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;icon.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Use Fixed Regions for Static UI Elements</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good for elements that never move</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage logo = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;company-logo.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setFixed(true)  // Will lock to first found location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Use Declarative Regions for Dynamic UI</strong>:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Good for elements that move relative to others</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StateImage button = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .addPatterns(&quot;submit-button.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .setSearchRegionOnObject(...)  // Adapts to UI changes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    .build();</span><br></span></code></pre></div></div>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="debugging-fixed-region-conflicts">Debugging Fixed Region Conflicts<a href="#debugging-fixed-region-conflicts" class="hash-link" aria-label="Direct link to Debugging Fixed Region Conflicts" title="Direct link to Debugging Fixed Region Conflicts">​</a></h4>
<p>Enable debug logging to see when fixed regions are cleared:</p>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">logging.level.io.github.jspinak.brobot.action.internal.region.DynamicRegionResolver=DEBUG</span><br></span></code></pre></div></div>
<p>Log output will show:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">INFO: Fixed region R[100,200,50,50] for ClaudeIcon is outside new declarative region R[503,310,80,105], clearing fixed region</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="region-not-found">Region Not Found<a href="#region-not-found" class="hash-link" aria-label="Direct link to Region Not Found" title="Direct link to Region Not Found">​</a></h3>
<ul>
<li>Verify target state and object names match exactly</li>
<li>Ensure target state is active when searching</li>
<li>Check that target object has been found at least once</li>
<li>Enable logging: <code>logging.level.io.github.jspinak.brobot.action.internal.region=DEBUG</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="incorrect-region-position">Incorrect Region Position<a href="#incorrect-region-position" class="hash-link" aria-label="Direct link to Incorrect Region Position" title="Direct link to Incorrect Region Position">​</a></h3>
<ul>
<li>Log the resolved region for debugging:<!-- -->
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ActionResult result = action.perform(findOptions, stateImage);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log.info(&quot;Search region: {}&quot;, result.getSearchedRegion());</span><br></span></code></pre></div></div>
</li>
<li>Adjust the adjustment values incrementally</li>
<li>Consider using visual feedback:<!-- -->
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">action.perform(new HighlightOptions.Builder().build(), stateImage);</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies-not-working">Dependencies Not Working<a href="#dependencies-not-working" class="hash-link" aria-label="Direct link to Dependencies Not Working" title="Direct link to Dependencies Not Working">​</a></h3>
<ul>
<li>Verify SearchRegionDependencyInitializer is being instantiated</li>
<li>Check logs for &quot;Registered search region dependency&quot; messages</li>
<li>Ensure Spring component scanning includes brobot packages</li>
<li>Verify target object names match exactly (case-sensitive)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-region-overriding-declarative-region">Fixed Region Overriding Declarative Region<a href="#fixed-region-overriding-declarative-region" class="hash-link" aria-label="Direct link to Fixed Region Overriding Declarative Region" title="Direct link to Fixed Region Overriding Declarative Region">​</a></h3>
<ul>
<li>Check if you&#x27;re setting ActionHistory on the StateImage (remove it)</li>
<li>Enable debug logging to see if fixed region is being cleared</li>
<li>Verify the declarative region is being calculated correctly</li>
<li>Consider manually resetting the fixed region:<!-- -->
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stateImage.getPatterns().forEach(pattern -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pattern.getSearchRegions().resetFixedRegion();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pattern.setFixed(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations">​</a></h3>
<ul>
<li>Region resolution happens on each search</li>
<li>Dependencies are registered once at startup</li>
<li>Updates only occur when source objects are found</li>
<li>Consider using fixed regions for static layouts</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="complete-example-real-world-usage">Complete Example: Real-World Usage<a href="#complete-example-real-world-usage" class="hash-link" aria-label="Direct link to Complete Example: Real-World Usage" title="Direct link to Complete Example: Real-World Usage">​</a></h2>
<p>Here&#x27;s a complete example showing all the new features working together:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@State(initial = true)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PromptState {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final StateImage claudePrompt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PromptState() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        claudePrompt = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addPatterns(&quot;prompt/claude-prompt.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setName(&quot;ClaudePrompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@State</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WorkingState {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final StateImage claudeIcon;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public WorkingState() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Icon depends on prompt location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        claudeIcon = new StateImage.Builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .addPatterns(&quot;working/claude-icon-1.png&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;working/claude-icon-2.png&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setName(&quot;ClaudeIcon&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setFixed(true)  // Will be cleared when prompt moves</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .setSearchRegionOnObject(SearchRegionOnObject.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .targetType(StateObject.Type.IMAGE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .targetStateName(&quot;Prompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .targetObjectName(&quot;ClaudePrompt&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .adjustments(MatchAdjustmentOptions.builder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .addX(3).addY(10).addW(30).addH(55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .build())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In your automation code:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ClaudeAutomator {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Action action;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private PromptState promptState;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Autowired</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private WorkingState workingState;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void findElements() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Search for both - dependency ordering happens automatically</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ActionResult result = action.perform(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new PatternFindOptions.Builder().build(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            promptState.getClaudePrompt(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            workingState.getClaudeIcon()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // What happens internally:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 1. FindPipeline orders images: ClaudePrompt first (no dependencies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 2. ClaudePrompt is found at (100, 200)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 3. ClaudeIcon&#x27;s search region immediately updated to (103, 210, w+30, h+55)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 4. ClaudeIcon&#x27;s fixed region (if any) is cleared</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 5. ClaudeIcon is searched in the updated region</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 6. If found, ClaudeIcon sets a new fixed region at the found location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-benefits-of-the-new-implementation">Key Benefits of the New Implementation<a href="#key-benefits-of-the-new-implementation" class="hash-link" aria-label="Direct link to Key Benefits of the New Implementation" title="Direct link to Key Benefits of the New Implementation">​</a></h2>
<ol>
<li><strong>No Manual Region Management</strong>: Dependencies are resolved automatically</li>
<li><strong>Immediate Updates</strong>: Search regions update as soon as dependencies are found</li>
<li><strong>Intelligent Fixed Region Handling</strong>: Fixed regions cleared when they conflict with declarative regions</li>
<li><strong>Optimized Search Order</strong>: Dependencies are searched in the correct order</li>
<li><strong>Better Performance</strong>: Fewer false matches due to targeted searching</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>Declarative region definition in Brobot 1.1.0+ provides:</p>
<ul>
<li>Cleaner, more maintainable code</li>
<li>Dynamic adaptation to UI changes</li>
<li>Better separation of concerns</li>
<li>Seamless integration with state management</li>
<li>Immediate search region updates for optimal performance</li>
<li>Intelligent fixed region management</li>
</ul>
<p>By defining regions declaratively, you create more robust automation that adapts to UI variations while keeping your action code focused on business logic rather than region calculations.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/jspinak/brobot/edit/main/docs/docs/03-core-library/guides/declarative-region-definition.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/brobot/docs/core-library/guides/advanced-illustration-system"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Advanced Illustration System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/brobot/docs/core-library/guides/search-regions-and-fixed-locations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Search Regions and Fixed Locations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#searchregiononobject" class="table-of-contents__link toc-highlight">SearchRegionOnObject</a></li><li><a href="#basic-usage" class="table-of-contents__link toc-highlight">Basic Usage</a><ul><li><a href="#simple-relative-region" class="table-of-contents__link toc-highlight">Simple Relative Region</a></li><li><a href="#with-adjustments" class="table-of-contents__link toc-highlight">With Adjustments</a></li><li><a href="#with-fixed-dimensions" class="table-of-contents__link toc-highlight">With Fixed Dimensions</a></li></ul></li><li><a href="#real-world-example-claude-automator" class="table-of-contents__link toc-highlight">Real-World Example: Claude Automator</a></li><li><a href="#builder-methods" class="table-of-contents__link toc-highlight">Builder Methods</a><ul><li><a href="#basic-structure" class="table-of-contents__link toc-highlight">Basic Structure</a></li><li><a href="#matchadjustmentoptions-builder" class="table-of-contents__link toc-highlight">MatchAdjustmentOptions Builder</a></li><li><a href="#key-differences-from-standard-match-adjustments" class="table-of-contents__link toc-highlight">Key Differences from Standard Match Adjustments</a></li></ul></li><li><a href="#cross-state-references" class="table-of-contents__link toc-highlight">Cross-State References</a><ul><li><a href="#how-cross-state-dependencies-work" class="table-of-contents__link toc-highlight">How Cross-State Dependencies Work</a></li></ul></li><li><a href="#immediate-search-region-updates" class="table-of-contents__link toc-highlight">Immediate Search Region Updates</a><ul><li><a href="#how-immediate-updates-work" class="table-of-contents__link toc-highlight">How Immediate Updates Work</a></li></ul></li><li><a href="#integration-with-state-aware-scheduling" class="table-of-contents__link toc-highlight">Integration with State-Aware Scheduling</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#migration-from-manual-approach" class="table-of-contents__link toc-highlight">Migration from Manual Approach</a></li><li><a href="#implementation-architecture" class="table-of-contents__link toc-highlight">Implementation Architecture</a><ul><li><a href="#core-components" class="table-of-contents__link toc-highlight">Core Components</a></li><li><a href="#initialization-flow" class="table-of-contents__link toc-highlight">Initialization Flow</a></li><li><a href="#runtime-flow-updated-in-110" class="table-of-contents__link toc-highlight">Runtime Flow (Updated in 1.1.0+)</a></li></ul></li><li><a href="#fixed-regions-and-declarative-regions" class="table-of-contents__link toc-highlight">Fixed Regions and Declarative Regions</a><ul><li><a href="#interaction-with-fixed-regions" class="table-of-contents__link toc-highlight">Interaction with Fixed Regions</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#region-not-found" class="table-of-contents__link toc-highlight">Region Not Found</a></li><li><a href="#incorrect-region-position" class="table-of-contents__link toc-highlight">Incorrect Region Position</a></li><li><a href="#dependencies-not-working" class="table-of-contents__link toc-highlight">Dependencies Not Working</a></li><li><a href="#fixed-region-overriding-declarative-region" class="table-of-contents__link toc-highlight">Fixed Region Overriding Declarative Region</a></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a></li></ul></li><li><a href="#complete-example-real-world-usage" class="table-of-contents__link toc-highlight">Complete Example: Real-World Usage</a></li><li><a href="#key-benefits-of-the-new-implementation" class="table-of-contents__link toc-highlight">Key Benefits of the New Implementation</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/watch?v=aHnVQ8KmOVw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Introductory Video</a></li><li class="footer__item"><a class="footer__link-item" href="/brobot/docs/getting-started/introduction">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/brobot/visualAPI">The Visual API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/brobot/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/jspinak/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCgRljq-lHkMLrzRzpJC4HNw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://search.maven.org/artifact/io.github.jspinak/brobot" target="_blank" rel="noopener noreferrer" class="footer__link-item">Maven Central<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Joshua Spinak · Free & Open Source</div></div></div></footer></div>
</body>
</html>